{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment</title>
    <link href="{% static 'assets/tupclogo.png' %}" rel="icon">
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css/custom_style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
</head>
<body>
    
    <nav class="navbar navbar-expand-lg navbar-dark bg-custom">
        <div class="container-fluid container">
          <div class="tup-title">
            <img class="image-nav" src="{% static 'assets/tupclogo.png' %}" width="70" alt="">
            <h4 class="custom-title">Technological University of the Philippines</h4> 
          </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link icon-flex" id="color-c"  href="{% url 'password' %}" ><i class='bx bxs-user bx-right'></i> Account Settings </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link icon-flex" id="color-c"  href="{% url 'logout_student' %}">Logout <i class='bx bx-exit bx-left'></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    
    <div class="container marg-top justify-content-center" data-aos="zoom-out" data-aos-duration="1000" data-aos-once="true" >
        <h1 align ="center">Book an Appointment</h1>
        <br>
        <div class="card card_custom-2" data-aos="zoom-in" data-aos-duration="1000" data-aos-once="true">
            <form class="row g-3" method="POST">
                {% csrf_token %}
                <div class="w-100"></div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="gridRadios" id="radioStudent">
                            <label class="form-check-label" for="radioStudent">
                            Student
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="gridRadios" id="radioAlumni">
                            <label class="form-check-label" for="radioAlumni">
                            Alumni
                            </label>
                        </div>
                    </div>
                </div>
                <div class="w-100"></div>
                <div class="row">
                    <div class="col-md-4">
                        <label for="inputFirst" class="form-label">First name</label>
                        <input type="text" class="form-control" id="inputFirst" name="firstname" required>
                    </div>
                    <div class="col-md-4">
                        <label for="inputMiddle" class="form-label">Middle name</label>
                        <input type="text" class="form-control" id="inputMiddle" name="middlename" required>
                    </div>
                    <div class="col-md-4">
                        <label for="inputLast" class="form-label">Last name</label>
                        <input type="text" class="form-control" id="inputLast" name="lastname" required>
                    </div>
                </div> 
                <div class="w-100"></div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="inputEmail" class="form-label">Email Address</label>
                        <input type="text" class="form-control" id="inputEmail" name="email" required>
                    </div>
                    <div class="col-md-6">
                        <label for="inputContact" class="form-label">Contact Number</label>
                        <input type="number" class="form-control" id="inputContact" name="contact" required>
                    </div>
                </div> 
                <div class="w-100"></div>
                <div class="row">
                    <div class="col-md-4">
                        <label for="inputCourse" class="form-label">Select Course</label>
                        <select id="inputCourse" class="form-select" name="course" required>
                        <option selected>Courses.</option>
                        <option>BSME</option>
                        <option>BSCE</option>
                        <option>BSEE</option>
                        <option>BSIE</option>
                        <option>BET-COET</option>
                        <option>BET-CET</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="inputYearl" class="form-label">Year Level</label>
                        <input type="number" class="form-control" id="inputYearl" name="yrlevel" required>
                    </div>
                    <div class="col-md-4">
                        <label for="inputYearg" class="form-label">Year Graduated</label>
                        <input type="number" class="form-control" id="inputYearg" name="" disabled>
                    </div>
                </div> 
                <div class="w-100"></div>
                <div class="row">
                    <div class="col-md-4">
                        <label for="inputIdn" class="form-label">Student ID</label>
                        <input type="text" class="form-control" id="inputIdn" name="studentnum" required>
                    </div>
                    <div class="col-md-4">
                        <label for="inputDept" class="form-label">Department</label>
                        <select id="inputDept" class="form-select" name="dept" required>
                        <option selected>Select Department</option>
                        <option>OAA</option>
                        <option>DIT</option>
                        <option>DLA</option>
                        <option>OCL</option>
                        <option>ORE</option>
                        <option>DMS</option>
                        <option>DOE</option>
                        <option>OSA</option>
                        <option>UITC</option>
                        <option>DPE</option>
                        <option>SD</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="inputContactP" class="form-label">Contact Person</label>
                        <select id="inputContactP" class="form-select" name="contactperson" required>
                        <option selected>Select Contact Person</option>
                        {% for a in names %}
                        <option>{{a.first_name}} {{a.last_name}}</option>
                        {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="w-100"></div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="inputDate" class="form-label">Preferred Date</label>
                        <input type="date" class="form-control" id="inputDate" name="pdate" required>
                    </div>
                    <div class="col-md-6">
                        <label for="inputTime" class="form-label">Preferred Time</label>
                        <input type="time" class="form-control" id="inputTime" name="ptime" required>
                    </div>
                </div> 
                <div class="w-100"></div>
                <div class="row">
                    <div class="col-md-12">
                        <label for="floatingTextarea2">Purpose</label>
                        <input type="hidden" class="form-control" id="" name="yrgraduate" value=0>
                        <input type="hidden" class="form-control" id="" name="status" value="PENDING" >
                        <input type="hidden" class="form-control" id="" name="notes" value="N/A" >
                        <input type="hidden" class="form-control" id="" name="username" value="{{username}}" >
                        <input type="hidden" class="form-control" id="" name="user" value="Student" >
                        <textarea class="form-control" placeholder="Type your purpose of visit." id="floatingTextarea2" style="height: 100px" name="purpose" required></textarea>
                    </div>
                </div>
                <div class="text-center">
                    <button type="submit" class="btn btn-danger">Submit Form</button>
                </div>
            </div>

            
        
        </form>
    </div>

    <br><br>



  
    <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="{% static 'js/jquery.js' %}"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
         AOS.init({
            duration: 3000,
            once: true,
        });
    </script>
    {% for message in messages %}
    <script>
        Swal.fire({
            title: '{{message}}',
            icon: 'success',
            confirmButtonColor: '#d33',
            })
    </script>
    {% endfor %}
    <script>
        $(document).ready(function(){
            $('input[id="radioStudent"]').change(function(e) {
                $('#inputYearg').attr('disabled','disabled')
                $('#inputYearl').removeAttr('disabled')
                $('#inputIdn').removeAttr('disabled')
                $('#inputCourse').removeAttr('disabled')

            });
            $('input[id="radioAlumni"]').change(function(e) {
                $('#inputYearl').attr('disabled','disabled')
                $('#inputYearg').removeAttr('disabled')
                $('#inputIdn').removeAttr('disabled')
                $('#inputCourse').removeAttr('disabled')

            });
        })
    </script>

</body>
</html>